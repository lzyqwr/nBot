{
  "id": "cooldown",
  "name": "指令冷却",
  "version": "1.0.2",
  "author": "nBot",
  "description": "防止用户刷屏，设置指令执行冷却时间",
  "type": "bot",
  "permissions": [],
  "signature": null,
  "builtin": true,
  "configSchema": [
    {
      "key": "default_seconds",
      "type": "number",
      "label": "默认冷却(秒)",
      "description": "未配置到 per_command 时使用的默认冷却时间",
      "default": 3,
      "options": null,
      "itemType": null,
      "min": 0,
      "max": 3600
    },
    {
      "key": "per_command",
      "type": "object",
      "label": "按指令冷却",
      "description": "为特定指令单独设置冷却秒数（JSON 对象：{\"help\":5,\"点赞\":2}）。留空则使用默认冷却。",
      "default": {},
      "options": null,
      "itemType": null,
      "min": null,
      "max": null
    },
    {
      "key": "notify",
      "type": "boolean",
      "label": "提示用户",
      "description": "当指令被冷却拦截时，是否发送提示消息",
      "default": true,
      "options": null,
      "itemType": null,
      "min": null,
      "max": null
    },
    {
      "key": "notify_interval_seconds",
      "type": "number",
      "label": "提示间隔(秒)",
      "description": "同一用户同一指令的提示消息最小间隔（避免刷屏）",
      "default": 2,
      "options": null,
      "itemType": null,
      "min": 0,
      "max": 60
    },
    {
      "key": "message_template",
      "type": "string",
      "label": "提示模板",
      "description": "支持占位符：{command} {remaining} {cooldown}",
      "default": "指令冷却中：{command} 还需等待 {remaining} 秒（冷却 {cooldown} 秒）",
      "options": null,
      "itemType": null,
      "min": null,
      "max": null
    },
    {
      "key": "bypass_super_admin",
      "type": "boolean",
      "label": "超管免冷却",
      "description": "是否允许 super_admin 绕过冷却限制",
      "default": true,
      "options": null,
      "itemType": null,
      "min": null,
      "max": null
    }
  ],
  "config": {
    "default_seconds": 3,
    "per_command": {},
    "notify": true,
    "notify_interval_seconds": 2,
    "message_template": "指令冷却中：{command} 还需等待 {remaining} 秒（冷却 {cooldown} 秒）",
    "bypass_super_admin": true
  }
}
