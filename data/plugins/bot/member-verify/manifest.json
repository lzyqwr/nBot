{
  "id": "member-verify",
  "name": "新成员验证",
  "version": "1.0.6",
  "author": "nBot",
  "description": "新成员进群验证：要求新成员在指定时间内发言，否则自动踢出（建议配合「白名单过滤」模块控制生效群）。",
  "type": "bot",
  "permissions": [],
  "signature": null,
  "builtin": true,
  "commands": [],
  "configSchema": [
    {
      "key": "cleanup_interval_seconds",
      "type": "number",
      "label": "清理间隔(秒)",
      "description": "检查并清理/踢出超时成员的最小间隔（用于降低开销）",
      "default": 5,
      "options": null,
      "itemType": null,
      "min": 1,
      "max": 60
    },
    {
      "key": "min_timeout",
      "type": "number",
      "label": "最小等待时间(秒)",
      "description": "新成员发言的最小等待时间",
      "default": 30,
      "options": null,
      "itemType": null,
      "min": 10,
      "max": 300
    },
    {
      "key": "max_timeout",
      "type": "number",
      "label": "最大等待时间(秒)",
      "description": "新成员发言的最大等待时间",
      "default": 90,
      "options": null,
      "itemType": null,
      "min": 30,
      "max": 600
    },
    {
      "key": "welcome_message",
      "type": "string",
      "label": "欢迎消息模板",
      "description": "新成员进群时的欢迎消息（{user} 会被替换为成员昵称，{timeout} 会被替换为等待秒数；不会输出 QQ 号）",
      "default": "{user} 欢迎加入本群！请在 {timeout} 秒内发送任意消息完成验证，否则将被移出群聊。",
      "options": null,
      "itemType": null,
      "min": null,
      "max": null
    },
    {
      "key": "kick_message",
      "type": "string",
      "label": "踢出消息模板",
      "description": "踢出未验证成员时的消息（{operator} 管理员/机器人昵称，{user} 成员昵称；不会输出 QQ 号）",
      "default": "{operator} 将 {user} 移出群聊：未在规定时间内完成验证。",
      "options": null,
      "itemType": null,
      "min": null,
      "max": null
    },
    {
      "key": "verify_success_message",
      "type": "string",
      "label": "验证成功消息",
      "description": "成员验证成功后的消息（{user} 会被替换为成员昵称，留空则不发送；不会输出 QQ 号）",
      "default": "{user} 验证成功，欢迎！",
      "options": null,
      "itemType": null,
      "min": null,
      "max": null
    },
    {
      "key": "kick_reject_reapply",
      "type": "boolean",
      "label": "拒绝再次申请",
      "description": "踢出时是否拒绝该用户再次申请加群",
      "default": false,
      "options": null,
      "itemType": null,
      "min": null,
      "max": null
    },
    {
      "key": "require_admin",
      "type": "boolean",
      "label": "需要管理员权限",
      "description": "开启后仅当机器人为群管理员/群主时才触发验证；若无法获取权限信息将视为非管理员并跳过",
      "default": true,
      "options": null,
      "itemType": null,
      "min": null,
      "max": null
    }
  ],
  "config": {
    "cleanup_interval_seconds": 5,
    "min_timeout": 30,
    "max_timeout": 90,
    "welcome_message": "{user} 欢迎加入本群！请在 {timeout} 秒内发送任意消息完成验证，否则将被移出群聊。",
    "kick_message": "{operator} 将 {user} 移出群聊：未在规定时间内完成验证。",
    "verify_success_message": "{user} 验证成功，欢迎！",
    "kick_reject_reapply": false,
    "require_admin": true
  }
}
